<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
      integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <div id="toast"></div>

    <div>
      <button onclick="showSuccessToast()" class="btn btn--success">
        Show Success toast
      </button>
      <button onclick="showErorrToast()" class="btn btn--danger">
        Show Error toast
      </button>
    </div>

    <script>
            function toast({ title ='', message = '', type = 'infor', duration=3000}) {
              const main = document.getElementById("toast");
              const icons = {
                  success: 'fa fa-check-circle',
                  error: 'fa fa-exclamation-circle',
                  warning: 'fa fa-exclamation-triangle',
                  infor: 'fa fa-info-circle'
              }
              const icon = icons[type]
              const delay = (duration / 1000).toFixed(2)
              console.log(delay)
              if (main) {
                const toast = document.createElement("div");
                toast.classList.add('toast', `toast--${type}`);
                toast.style.animation = `slideInLeft ease .3s, fadeOut linear 1s 1s forwards;`
                toast.innerHTML = `
                  <div class="toast__icon">
                    <i class="${icon}" aria-hidden="true"></i>
                  </div>
                  <div class="toast__body">
                    <h3 class="toast__title">${title}</h3>
                    <p class="toast__msg">
                      ${message}
                    </p>
                  </div>
                  <div class="toast__close">
                    <i class="fa fa-times" aria-hidden="true"></i>
                  </div>
                 `;
                 main.appendChild(toast)
              }
            }

            function showSuccessToast(){
              toast({
                  title: "Successs !!!",
                  message: "Bạn đã thành công !!!",
                  type: "success",
                  duration: 1000,
            });
            
            }

            function showErorrToast(){
                toast({
                    title: "Fail !!!",
                    message: "Đã có lỗi xảy ra, vui lòng kiểm tra lại !!!",
                    type: "error",
                    duration: 3000,
                    });
            }
    </script>
  </body>
</html>
